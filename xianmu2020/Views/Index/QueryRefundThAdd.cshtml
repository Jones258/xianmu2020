
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="~/Scripts/bootstrap.min.js"></script>
    <title>QueryRefundThAdd</title>
</head>
<body>
    <form>
        <div class="container">
            <div class="row" style="margin-left:-89px; width:1118px; border:0px solid black;background-color:#37435c;border-radius:2px;">
                <div class="col-md-8">
                    <h5 style="font-size:15px;font-weight:bold;color:white;">新增产品退货</h5>
                </div>
            </div>
            <div class="row" style="border:1px dotted black;width:1118px;height:550px; margin-left:-89px;">
                <div style="border:0px solid black; width:1100px;margin:0px auto;height:230px;margin-top:15px;background-color:#f5f8f8;">
                    <div class="row">
                        <div class=" col-md-2 form-inline" style="margin-top:13px;margin-left:30px;">
                            <label class="control-label">退货编号</label><input name="RefundId" type="tel" class="form-control" placeholder="可不填,自动生成" />
                        </div>
                        <div class=" col-md-2 form-inline" style="margin-top:13px;">
                            <label class="control-label">退货类型</label> @Html.DropDownList("RefundTHType", null, htmlAttributes: new { @class = "form-control", @style = "width:160px;" })
                        </div>
                        <div class=" col-md-2 form-inline" style="margin-top:13px;">
                            <label class="control-label">制单日期</label><input name="PreparedTime" type="date" class="form-control" />
                        </div>
                        <div class=" col-md-2 form-inline" style="margin-top:13px;">
                            <label class="control-label">客户编号</label>@Html.DropDownList("ClientModel", null, htmlAttributes: new { @class = "form-control", @style = "width:160px;" })
                        </div>
                        <div class=" col-md-2 form-inline" style="margin-top:13px;">
                            <label class="control-label">客户名称</label><input id="ClientName" name="ClientName" type="text" class="form-control"  />
                        </div>
                    </div>
                    <div class="row">
                        <div class=" col-md-2 form-inline" style="margin-top:13px;margin-left:30px;">
                            <label class="control-label">客户地址</label><input id="ClientSite" name="ClientSite" type="text" class="form-control"  />
                        </div>
                        <div class=" col-md-2 form-inline" style="margin-top:13px;">
                            <label class="control-label">客户联系方式</label><input id="ClientContactWay" name="ClientContactWay" type="text" class="form-control"  />
                        </div>
                        <div class=" col-md-2 form-inline" style="margin-top:13px;">
                            <label class="control-label">联系人</label><input id="ContactMan" name="ContactMan" type="text" class="form-control" />
                        </div>
                        <div class=" col-md-2 form-inline" style="margin-top:13px;">
                            <label class="control-label">制单人</label><input name="PreparedMan" type="text" class="form-control" value="administrator" />
                        </div>
                        <div class=" col-md-2 form-inline" style="margin-top:13px;">
                            <label class="control-label">退货数量</label><input name="RefundCount" type="text" class="form-control" />
                        </div>
                    </div>
                    <div class="row">
                        <div class=" col-md-4 form-inline" style="margin-top:13px;margin-left:30px;">
                            <label class="control-label">备注</label><input name="Remark" type="text" class="form-control" />
                        </div>
                    </div>
                </div>

                @*<div class="row" style="margin-top:22px;">
                    <table class="table table-bordered table-hover table-responsive" style=" width:1100px;margin:0px auto; border:1px solid #e07a7a">
                        <thead>
                            <tr style="font-weight:bold;">
                                <td>产品编号</td>
                                <td>产品名称</td>
                                <td>产品条码</td>
                                <td>批次</td>
                                <td>库位名称</td>
                                <td>出库数量</td>
                                <td>退货数量</td>
                                <td>操作</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>产品编号11</td>
                                <td>产品名称1</td>
                                <td>产品条码1</td>
                                <td>批次1</td>
                                <td>库位名称1</td>
                                <td>出库数量1</td>
                                <td>退货数量1</td>
                                <td><a href="#"><span style="color:red" class="glyphicon glyphicon-trash"></span></a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>*@
                <div class="row" style="border:0px solid black;width:1100px;height:90px; margin-left:14px;margin-top:20px;background-color:#f5f8f8;">
                    <div class="col-md-5 form-group form-inline" style="margin-top:25px;">
                        <button id="btnAdd" type="button" class="btn btn-info">保存</button>
                        <a href="@Url.Action("QueryRefundPage")" class="btn btn-danger">取消</a>
                    </div>
                </div>
            </div>
        </div>

    </form>
  
    <script type="text/javascript">
        $(function () {
            $("#btnAdd").click(AddBindData);

                @*//下拉框选中事件
                $("#ClientModel").change(function () {
                    var ClientModelValue = $(this).val();
                    $.ajax({
                        url:"@Url.Action("QueryRefundThAdd")",
                        data: { Typeid: ClientModelValue },
                    dataType:"json",
                    type:"get",
                    success: function (result) {
                        $("#ClientName").html("");
                        $("#ClientName").html(result.ClientName);
                        $("#ClientSite").html(result.ClientSite);
                        $("#ClientContactWay").html(result.ClientContactWay);
                        $("#ContactMan").html(result.ContactMan);
                    }
                })
            })*@
           
        })
        
      


        //添加方法
       function AddBindData() {
            var formValue = $("form").serializeArray();
            var objJson = {};
            $.each(formValue, function (index,value) {
                objJson[value.name] = value.value;
            })
            $.ajax({
                url:"@Url.Action("THProduct")",
                data: objJson,
                dataType:"json",
                type:"post",
                success: function (AddResult) {
                    alert(AddResult.Msg);
                }
            })
        }

    </script>

</body>
</html>